{
  "version": 3,
  "file": "ngx-progressbar-http-client.js",
  "sources": [
    "ng://@ngx-progressbar/http-client/src/ng-progress-http-client.module.ts",
    "ng://@ngx-progressbar/http-client/src/ng-progress.interceptor.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { NgProgressInterceptor } from './ng-progress.interceptor';\r\n\r\n@NgModule({\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: NgProgressInterceptor, multi: true }\r\n  ],\r\n})\r\nexport class NgProgressHttpClientModule {}\r\n",
    "import { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { NgProgress } from '@ngx-progressbar/core';\r\n\r\n@Injectable()\r\nexport class NgProgressInterceptor implements HttpInterceptor {\r\n\r\n  private inProgressCount = 0;\r\n\r\n  constructor(public progress: NgProgress) {\r\n  }\r\n\r\n  // Ignoring specific requests will be supported after this https://github.com/angular/angular/issues/18155\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    this.inProgressCount++;\r\n    if (!this.progress.isStarted) {\r\n      this.progress.start();\r\n    }\r\n    return next.handle(req).pipe(finalize(() => {\r\n      this.inProgressCount--;\r\n      if (this.inProgressCount === 0) {\r\n        this.progress.done();\r\n      }\r\n    }));\r\n  }\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;;;;;;ACAA,AAOA,MAAA,qBAAA,CAAA;;;;IAIE,WAAF,CAAqB,QAAoB,EAAzC;QAAqB,IAArB,CAAA,QAA6B,GAAR,QAAQ,CAAY;QAFzC,IAAA,CAAA,eAAA,GAA4B,CAAC,CAA7B;KAGG;;;;;;IAGD,SAAS,CAAC,GAAqB,EAAE,IAAiB,EAApD;QACI,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;YAC5B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACvB;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAA1C;YACM,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE;gBAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACtB;SACF,CAAC,CAAC,CAAC;KACL;;;IApBH,EAAA,IAAA,EAAC,UAAU,EAAX;;;;IAFA,EAAA,IAAA,EAAS,UAAU,GAAnB;;;;;;;ADJA,AASA,MAAA,0BAAA,CAAA;;;IALA,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,qBAAqB,EAAE,KAAK,EAAE,IAAI,EAAE;iBAC7E;aACF,EAAD,EAAA;;;;;;;;;;;;;;;;;;;;"
}
